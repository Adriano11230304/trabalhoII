<%if(locals.user){%>
    <%if(locals.user.role == 'admin'){%>
        <%- include('../components/headerAdmin.ejs')%>
    <%}else{%>
        <%- include('../components/headerLogado.ejs')%>
    <%}%>
<%}else{%>
    <%- include('../components/header.ejs')%>
<%}%>   

<div class="container">
    <%if(posts.length==0){%>
        <h3 class="m-4">Nenhum Post encontrado!</h3>
    <%}else{%>
        <%for(let i=0; i < posts.length; i++){%>
            <hr class="border border-dark border-2 opacity-50">
            <h6 class="m-2">
                <%=posts[i].createdAt%>
            </h6>
            <hr class="border border-dark border-2 opacity-50">
            <div class="flex-container m-2">
                <h3>
                    <%=posts[i].title%>
                </h3>
            </div>
            <div class="flex-container m-2">
                <a class="btn btn-outline-dark m-2" href="/posts/update/<%=posts[i].id%>">
                    <img src="/img/editar.png" title="Alterar o Post" width="25" height="25">
                </a>
                <a class="btn btn-outline-dark m-2" href="/posts/delete/<%=posts[i].id%>">
                    <img src="/img/excluir.png" title="Excluir o Post" width="25" height="25">
                </a>
                <a class="btn btn-outline-dark m-2" href="/posts/posts/<%=posts[i].id%>">
                    <img src="/img/visualizar.png" title="Visualizar o Post" width="25" height="25">
                </a>
            </div>

            <div class="flex-container m-2">
                <p class="text-justify">
                    <%=posts[i].description%>
                </p>
            </div>
            <div class="text-center">
                <%if(posts[i].imageURL){%>
                    <img src="<%=posts[i].imageURL%>" alt="Imagem do Post" width="350" height="250">
                <%}%>
            </div>
            
        <%}%>
    <%}%>
</div>



<%- include('../components/footer.ejs')%>